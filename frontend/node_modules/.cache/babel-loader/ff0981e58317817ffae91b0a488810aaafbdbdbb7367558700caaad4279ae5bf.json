{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\Django React Projects\\\\dop\\\\frontend\\\\src\\\\components\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Typography, Container, Button, Alert } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = () => {\n  _s();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [uploadSuccess, setUploadSuccess] = useState(false);\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    setUploadedFile(file);\n    console.log(\"Uploaded file:\", file);\n  };\n  const handleDataUpload = () => {\n    if (!uploadedFile) {\n      setUploadError(\"Please upload a file before clicking Upload File!\");\n      return;\n    }\n    setUploading(true);\n    setUploadError(null);\n    const formData = new FormData();\n    formData.append(\"file\", uploadedFile);\n    axios.post(\"/api/update_db\", formData).then(response => {\n      setUploadSuccess(true);\n      console.log(\"Data uploaded successfully:\", response.data);\n    }).catch(error => {\n      console.error(\"Error uploading data:\", error);\n      setUploadError(\"Error uploading data. Please try again later.\");\n    }).finally(() => {\n      setUploading(false);\n    });\n  };\n  const styles = {\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      marginTop: \"50px\"\n    },\n    header: {\n      marginBottom: \"20px\",\n      textAlign: \"center\"\n    },\n    input: {\n      display: \"none\"\n    },\n    button: {\n      backgroundColor: \"#4caf50\",\n      color: \"white\",\n      padding: \"10px 20px\",\n      borderRadius: \"4px\",\n      marginTop: \"20px\",\n      boxShadow: \"none\",\n      \"&:hover\": {\n        backgroundColor: \"#45a049\"\n      }\n    },\n    alert: {\n      width: \"100%\",\n      marginBottom: \"20px\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      style: styles.header,\n      children: \"Welcome to Admin Centre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      style: styles.header,\n      children: \"Latest LWE Bill Excel File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      style: styles.header,\n      children: \"Wait 30s after upload for changes to be seen in Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".xls,.xlsx\",\n      onChange: handleFileUpload,\n      style: styles.input,\n      id: \"fileInput\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"fileInput\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        component: \"span\",\n        style: styles.button,\n        disabled: uploading,\n        children: uploading ? \"Uploading...\" : \"Upload File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), uploadError && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      style: styles.alert,\n      children: uploadError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), uploadSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      style: styles.alert,\n      children: \"File Uploaded. Changes made to Dashboard!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"lJKEvmQmw/B7ovTspm0PaiYEcBk=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","axios","Typography","Container","Button","Alert","jsxDEV","_jsxDEV","Admin","_s","uploadedFile","setUploadedFile","uploading","setUploading","uploadError","setUploadError","uploadSuccess","setUploadSuccess","handleFileUpload","event","file","target","files","console","log","handleDataUpload","formData","FormData","append","post","then","response","data","catch","error","finally","styles","container","display","flexDirection","alignItems","justifyContent","marginTop","header","marginBottom","textAlign","input","button","backgroundColor","color","padding","borderRadius","boxShadow","alert","width","maxWidth","style","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","id","htmlFor","component","disabled","severity","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/Django React Projects/dop/frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Typography, Container, Button, Alert } from \"@mui/material\";\r\n\r\nconst Admin = () => {\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadError, setUploadError] = useState(null);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    setUploadedFile(file);\r\n    console.log(\"Uploaded file:\", file);\r\n  };\r\n\r\n  const handleDataUpload = () => {\r\n    if (!uploadedFile) {\r\n      setUploadError(\"Please upload a file before clicking Upload File!\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setUploadError(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", uploadedFile);\r\n\r\n    axios\r\n      .post(\"/api/update_db\", formData)\r\n      .then((response) => {\r\n        setUploadSuccess(true);\r\n        console.log(\"Data uploaded successfully:\", response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error uploading data:\", error);\r\n        setUploadError(\"Error uploading data. Please try again later.\");\r\n      })\r\n      .finally(() => {\r\n        setUploading(false);\r\n      });\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      marginTop: \"50px\",\r\n    },\r\n    header: {\r\n      marginBottom: \"20px\",\r\n      textAlign: \"center\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n    button: {\r\n      backgroundColor: \"#4caf50\",\r\n      color: \"white\",\r\n      padding: \"10px 20px\",\r\n      borderRadius: \"4px\",\r\n      marginTop: \"20px\",\r\n      boxShadow: \"none\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#45a049\",\r\n      },\r\n    },\r\n    alert: {\r\n      width: \"100%\",\r\n      marginBottom: \"20px\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" style={styles.container}>\r\n      <Typography variant=\"h2\" style={styles.header}>\r\n        Welcome to Admin Centre\r\n      </Typography>\r\n      <Typography variant=\"h5\" style={styles.header}>\r\n        Latest LWE Bill Excel File\r\n      </Typography>\r\n      <Typography variant=\"body1\" style={styles.header}>\r\n        Wait 30s after upload for changes to be seen in Dashboard\r\n      </Typography>\r\n\r\n      <input\r\n        type=\"file\"\r\n        accept=\".xls,.xlsx\"\r\n        onChange={handleFileUpload}\r\n        style={styles.input}\r\n        id=\"fileInput\"\r\n      />\r\n      <label htmlFor=\"fileInput\">\r\n        <Button\r\n          variant=\"contained\"\r\n          component=\"span\"\r\n          style={styles.button}\r\n          disabled={uploading}\r\n        >\r\n          {uploading ? \"Uploading...\" : \"Upload File\"}\r\n        </Button>\r\n      </label>\r\n\r\n      {uploadError && (\r\n        <Alert severity=\"error\" style={styles.alert}>\r\n          {uploadError}\r\n        </Alert>\r\n      )}\r\n      {uploadSuccess && (\r\n        <Alert severity=\"success\" style={styles.alert}>\r\n          File Uploaded. Changes made to Dashboard!\r\n        </Alert>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
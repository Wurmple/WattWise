{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\Django React Projects\\\\dop\\\\frontend\\\\src\\\\components\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Typography, Container, Button, Alert, Paper } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = () => {\n  _s();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [uploadSuccess, setUploadSuccess] = useState(false);\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    setUploadedFile(file);\n    console.log(\"Uploaded file:\", file);\n  };\n  const handleDataUpload = () => {\n    if (!uploadedFile) {\n      setUploadError(\"Please upload a file before clicking Upload File!\");\n      return;\n    }\n    setUploading(true);\n    setUploadError(null);\n    const formData = new FormData();\n    formData.append(\"file\", uploadedFile);\n    axios.post(\"/api/update_db\", formData).then(response => {\n      setUploadSuccess(true);\n      console.log(\"Data uploaded successfully:\", response.data);\n    }).catch(error => {\n      console.error(\"Error uploading data:\", error);\n      setUploadError(\"Error uploading data. Please try again later.\");\n    }).finally(() => {\n      setUploading(false);\n    });\n  };\n  const styles = {\n    container: {\n      marginBottom: \"20px\",\n      padding: \"20px\"\n    },\n    header: {\n      marginBottom: \"20px\"\n    },\n    input: {\n      display: \"block\",\n      // Display the input on a new line\n      border: \"1px solid #ccc\",\n      borderRadius: \"4px\",\n      padding: \"8px\",\n      marginBottom: \"20px\"\n    },\n    button: {\n      backgroundColor: \"#2196f3\",\n      // Material-UI primary color\n      color: \"white\",\n      padding: \"12px 24px\",\n      borderRadius: \"4px\",\n      cursor: \"pointer\",\n      fontSize: \"16px\",\n      textDecoration: \"none\",\n      transition: \"background-color 0.3s\",\n      marginTop: \"20px\" // Add margin top\n    },\n    paper: {\n      padding: \"20px\"\n    },\n    alert: {\n      marginBottom: \"20px\" // Add margin bottom\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      gutterBottom: true,\n      children: \"Welcome to Admin Centre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: styles.paper,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        style: styles.header,\n        children: \"Latest LWE Bill Excel File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        style: styles.header,\n        children: \"Wait 30s after upload for changes to be seen in Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".xls,.xlsx\",\n        onChange: handleFileUpload,\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), uploadError && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        style: styles.alert,\n        children: uploadError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), uploadSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        style: styles.alert,\n        children: \"File Uploaded. Changes made to Dashboard!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        style: styles.button,\n        onClick: handleDataUpload,\n        disabled: uploading,\n        children: uploading ? \"Uploading...\" : \"Upload File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"lJKEvmQmw/B7ovTspm0PaiYEcBk=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","axios","Typography","Container","Button","Alert","Paper","jsxDEV","_jsxDEV","Admin","_s","uploadedFile","setUploadedFile","uploading","setUploading","uploadError","setUploadError","uploadSuccess","setUploadSuccess","handleFileUpload","event","file","target","files","console","log","handleDataUpload","formData","FormData","append","post","then","response","data","catch","error","finally","styles","container","marginBottom","padding","header","input","display","border","borderRadius","button","backgroundColor","color","cursor","fontSize","textDecoration","transition","marginTop","paper","alert","maxWidth","style","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","elevation","type","accept","onChange","severity","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/Django React Projects/dop/frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Typography, Container, Button, Alert, Paper } from \"@mui/material\";\r\n\r\nconst Admin = () => {\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadError, setUploadError] = useState(null);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    setUploadedFile(file);\r\n    console.log(\"Uploaded file:\", file);\r\n  };\r\n\r\n  const handleDataUpload = () => {\r\n    if (!uploadedFile) {\r\n      setUploadError(\"Please upload a file before clicking Upload File!\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setUploadError(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", uploadedFile);\r\n\r\n    axios\r\n      .post(\"/api/update_db\", formData)\r\n      .then((response) => {\r\n        setUploadSuccess(true);\r\n        console.log(\"Data uploaded successfully:\", response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error uploading data:\", error);\r\n        setUploadError(\"Error uploading data. Please try again later.\");\r\n      })\r\n      .finally(() => {\r\n        setUploading(false);\r\n      });\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      marginBottom: \"20px\",\r\n      padding: \"20px\",\r\n    },\r\n    header: {\r\n      marginBottom: \"20px\",\r\n    },\r\n    input: {\r\n      display: \"block\", // Display the input on a new line\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"4px\",\r\n      padding: \"8px\",\r\n      marginBottom: \"20px\",\r\n    },\r\n    button: {\r\n      backgroundColor: \"#2196f3\", // Material-UI primary color\r\n      color: \"white\",\r\n      padding: \"12px 24px\",\r\n      borderRadius: \"4px\",\r\n      cursor: \"pointer\",\r\n      fontSize: \"16px\",\r\n      textDecoration: \"none\",\r\n      transition: \"background-color 0.3s\",\r\n      marginTop: \"20px\", // Add margin top\r\n    },\r\n    paper: {\r\n      padding: \"20px\",\r\n    },\r\n    alert: {\r\n      marginBottom: \"20px\", // Add margin bottom\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" style={styles.container}>\r\n      <Typography variant=\"h2\" gutterBottom>\r\n        Welcome to Admin Centre\r\n      </Typography>\r\n      <Paper elevation={3} style={styles.paper}>\r\n        <Typography variant=\"h4\" style={styles.header}>\r\n          Latest LWE Bill Excel File\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" style={styles.header}>\r\n          Wait 30s after upload for changes to be seen in Dashboard\r\n        </Typography>\r\n\r\n        <input\r\n          type=\"file\"\r\n          accept=\".xls,.xlsx\"\r\n          onChange={handleFileUpload}\r\n          style={styles.input}\r\n        />\r\n        {uploadError && (\r\n          <Alert severity=\"error\" style={styles.alert}>\r\n            {uploadError}\r\n          </Alert>\r\n        )}\r\n        {uploadSuccess && (\r\n          <Alert severity=\"success\" style={styles.alert}>\r\n            File Uploaded. Changes made to Dashboard!\r\n          </Alert>\r\n        )}\r\n        <Button\r\n          variant=\"contained\"\r\n          style={styles.button}\r\n          onClick={handleDataUpload}\r\n          disabled={uploading}\r\n        >\r\n          {uploading ? \"Uploading...\" : \"Upload File\"}\r\n        </Button>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\Django React Projects\\\\dop\\\\frontend\\\\src\\\\components\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Typography, Container, Button, Alert } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = () => {\n  _s();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [uploadSuccess, setUploadSuccess] = useState(false);\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    setUploadedFile(file);\n    console.log(\"Uploaded file:\", file);\n  };\n  const handleDataUpload = () => {\n    if (!uploadedFile) {\n      setUploadError(\"Please upload a file before clicking Upload File!\");\n      return;\n    }\n    setUploading(true);\n    setUploadError(null);\n    const formData = new FormData();\n    formData.append(\"file\", uploadedFile);\n    axios.post(\"/api/update_db\", formData).then(response => {\n      setUploadSuccess(true);\n      console.log(\"Data uploaded successfully:\", response.data);\n    }).catch(error => {\n      console.error(\"Error uploading data:\", error);\n      setUploadError(\"Error uploading data. Please try again later.\");\n    }).finally(() => {\n      setUploading(false);\n    });\n  };\n  const styles = {\n    container: {\n      marginBottom: \"20px\"\n    },\n    header: {\n      marginBottom: \"10px\"\n    },\n    input: {\n      display: \"block\",\n      // Display the input on a new line\n      border: \"1px solid #ccc\",\n      borderRadius: \"4px\",\n      padding: \"8px\",\n      marginBottom: \"10px\"\n    },\n    button: {\n      backgroundColor: \"black\",\n      // Black color\n      color: \"white\",\n      padding: \"10px 20px\",\n      border: \"none\",\n      borderRadius: \"4px\",\n      cursor: \"pointer\",\n      fontSize: \"16px\",\n      textDecoration: \"none\",\n      transition: \"background-color 0.3s\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      children: \"Welcome to Admin Centre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      style: styles.header,\n      children: \"Latest LWE Bill Excel File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"subtitle1\",\n      style: styles.header,\n      children: \"Wait 30s after upload for changes to be seen in Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".xls,.xlsx\",\n      onChange: handleFileUpload,\n      style: styles.input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), uploadError && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: uploadError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 23\n    }, this), uploadSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      children: \"File Uploaded. Changes made to Dashboard!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      style: styles.button,\n      onClick: handleDataUpload,\n      disabled: uploading,\n      children: uploading ? \"Uploading...\" : \"Upload File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"lJKEvmQmw/B7ovTspm0PaiYEcBk=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","axios","Typography","Container","Button","Alert","jsxDEV","_jsxDEV","Admin","_s","uploadedFile","setUploadedFile","uploading","setUploading","uploadError","setUploadError","uploadSuccess","setUploadSuccess","handleFileUpload","event","file","target","files","console","log","handleDataUpload","formData","FormData","append","post","then","response","data","catch","error","finally","styles","container","marginBottom","header","input","display","border","borderRadius","padding","button","backgroundColor","color","cursor","fontSize","textDecoration","transition","maxWidth","style","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","severity","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/Django React Projects/dop/frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Typography, Container, Button, Alert } from \"@mui/material\";\r\n\r\nconst Admin = () => {\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadError, setUploadError] = useState(null);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    setUploadedFile(file);\r\n    console.log(\"Uploaded file:\", file);\r\n  };\r\n\r\n  const handleDataUpload = () => {\r\n    if (!uploadedFile) {\r\n      setUploadError(\"Please upload a file before clicking Upload File!\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setUploadError(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", uploadedFile);\r\n\r\n    axios\r\n      .post(\"/api/update_db\", formData)\r\n      .then((response) => {\r\n        setUploadSuccess(true);\r\n        console.log(\"Data uploaded successfully:\", response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error uploading data:\", error);\r\n        setUploadError(\"Error uploading data. Please try again later.\");\r\n      })\r\n      .finally(() => {\r\n        setUploading(false);\r\n      });\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      marginBottom: \"20px\",\r\n    },\r\n    header: {\r\n      marginBottom: \"10px\",\r\n    },\r\n    input: {\r\n      display: \"block\", // Display the input on a new line\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"4px\",\r\n      padding: \"8px\",\r\n      marginBottom: \"10px\",\r\n    },\r\n    button: {\r\n      backgroundColor: \"black\", // Black color\r\n      color: \"white\",\r\n      padding: \"10px 20px\",\r\n      border: \"none\",\r\n      borderRadius: \"4px\",\r\n      cursor: \"pointer\",\r\n      fontSize: \"16px\",\r\n      textDecoration: \"none\",\r\n      transition: \"background-color 0.3s\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" style={styles.container}>\r\n      <Typography variant=\"h2\">Welcome to Admin Centre</Typography>\r\n      <Typography variant=\"h3\" style={styles.header}>\r\n        Latest LWE Bill Excel File\r\n      </Typography>\r\n      <Typography variant=\"subtitle1\" style={styles.header}>\r\n        Wait 30s after upload for changes to be seen in Dashboard\r\n      </Typography>\r\n\r\n      <input\r\n        type=\"file\"\r\n        accept=\".xls,.xlsx\"\r\n        onChange={handleFileUpload}\r\n        style={styles.input}\r\n      />\r\n      {uploadError && <Alert severity=\"error\">{uploadError}</Alert>}\r\n      {uploadSuccess && (\r\n        <Alert severity=\"success\">\r\n          File Uploaded. Changes made to Dashboard!\r\n        </Alert>\r\n      )}\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        style={styles.button}\r\n        onClick={handleDataUpload}\r\n        disabled={uploading}\r\n      >\r\n        {uploading ? \"Uploading...\" : \"Upload File\"}\r\n      </Button>\r\n      {/* Add your admin dashboard content here */}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}